# 開発計画

## フェーズ概要

段階的な機能実装により、DB運用を前提とした本格的なWebアプリケーションへ発展させる。

## フェーズ1：アーキテクチャ基盤の構築（現在）

**目標**: 本格的なWebアプリケーション開発のための堅牢な基盤構築

### 主なマイルストーン・概要

- **PHP処理層アーキテクチャの確立**
  - MVC パターンの実装（Model/Controller/Service層分離）
  - 基底クラス・共通処理の整備
  - マイグレーション管理システム
- **セキュリティ基盤の構築**
  - SQLインジェクション・XSS対策
  - 入力検証システム
  - エラーハンドリング統一
- **API設計の確立**
  - RESTful API構造
  - 一時ユーザー管理システム
  - 統一的なレスポンス形式
- **基本機能の実装**
  - 勤怠データCRUD
  - ユーザー管理（一時ユーザー）
  - 基本的なUI/UX
- WBSは docs/wbs/phase1.md を参照

#### 設計方針補足

- 一時ユーザーも users テーブルに登録（is_temporary=TRUE で区別）
- temporary_users テーブルはクッキー識別子管理用の補助テーブル
- 勤怠データ（attendance）は users.id で一元管理
- 昇格時は users.is_temporary を FALSE に変更
- 勤怠データの group_id は NULL許可、未所属は group_id=NULL（個人利用）

## フェーズ2：認証・チーム機能の実装

**目標**: アカウント管理とチーム機能による本格運用開始

### 機能実装概要

- **認証システムの実装**
  - ユーザー登録・ログイン機能
  - 一時ユーザーからの昇格機能
  - セッション管理・CSRF対策
- **チーム・グループ機能**
  - グループ作成・参加機能
  - 役割ベース権限管理
  - チーム単位の勤怠管理
- **管理機能の強化**
  - 管理者向け画面の実装
  - データ集計・レポート機能
  - SSO（外部認証）検討
- WBSは docs/wbs/phase2.md を参照

## フェーズ3：拡張・運用準備

**目標**: プロダクション品質への引き上げ

### 拡張機能・運用準備

- 運用・拡張機能の追加
- データエクスポート・セキュリティ強化
- コード整理・ドキュメント整備
- パフォーマンス最適化
- WBSは docs/wbs/phase3.md を参照
